###############################################################################
###############################################################################
####                                                                       ####
####              THIS FILE WAS GENERATED WITH METASTRUCTURE               ####
####                       DO NOT EDIT IT MANUALLY!                        ####
####                                                                       ####
###############################################################################
###############################################################################

{{#if params.aws_profile}}
###############################################################################
# Apply a local AWS profile to the default provider.
###############################################################################
provider "aws" { 
    profile = "{{params.aws_profile}}"
}

###############################################################################
# Apply a local AWS profile to the Terraform state account provider.
###############################################################################
provider "aws" {
    alias   = "terraform_state_account"
    profile = "{{params.aws_profile}}" 
}
{{#each accounts}}
###############################################################################
# Apply a local AWS profile to the {{this.name}} provider.
###############################################################################
provider "aws" {
    alias   = "{{@key}}"
    profile = "{{../params.aws_profile}}" 
}

{{/each}}{{/if}}